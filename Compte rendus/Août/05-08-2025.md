---
tags:
  - note-quotidienne
Auteur: Esteban Carrasco
Fichier mère: "[[Compte rendus - Juillet]]"
---

> [!todo]+ To do list
> - [ ] génération de [[ByteTrack11-o.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]]
> - [ ] génération de [[ByteTrack11.json]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]]
> - [ ] relancer le benchmark


## Réalisé
- génération de [[NByteTrack1.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : on affiche la confiance pour ajuster le threshold
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.8,
	frame_rate=60
)
```

- génération de [[NByteTrack2.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : on désactive les flags labels et colors pour augmenter le conraste entre YOLO et ByteTrack.
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.8,
	frame_rate=60
)
```

- génération de [[NByteTrack3.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.45,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.8,
	frame_rate=60
)
```

- génération de [[NByteTrack4.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.3,
	frame_rate=60
)
```

- génération de [[NByteTrack5.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.5,
	frame_rate=60
)
```

- génération de [[NByteTrack6.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.7,
	frame_rate=60
)
```

- génération de [[NByteTrack7.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.9,
	frame_rate=60
)
```

- génération de [[NByteTrack8.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.25,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.9,
	frame_rate=60
)
```

- génération de [[NByteTrack9.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.35,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.9,
	frame_rate=60
)
```

- génération de [[NByteTrack10.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.85,
	frame_rate=60
)
```

- génération de [[NByteTrack11.mp4]] avec [[Programmes/ByteTrack/VuPhan/adaptation.py|adaptation.py]] : 
```python
self.byte_tracker = ByteTrack(
	track_activation_threshold=0.3,
	lost_track_buffer=300,               # 1s à 60 fps
	minimum_matching_threshold=0.95,
	frame_rate=60
)
```

- à ce point d'étape-ci, il est difficile de dire quelle combinaison d'hyperparamètres est la meilleure. Les évaluations qualitatives ont été faites à partir de la détection de la même waggle dance, ainsi pour déterminer laquelle des combinaisons 7, 8, 9, 10, 11 est la meilleure, il est nécessaire de regarde une autre waggle dance.  

- conversion des vidéo avec le script [[VideoConvert.py]] car le codec vidéo n'était pas supporté par d'autre lecteur que VLC car trop vieux. Désormais je peux ouvrir plusieurs vidéo en même temps pour les comparer plus facilement. Par comparaisons visuelles, la 9 et la 11 ont l'air meilleure. Pour ne pas être trop restrictif sur le matching IoU et au vu du nombre d'individus détecté différents, je considérerai ici que la combinaison 9 est la plus efficiente. 

- génération des différente versions de la combinaison 9 :
	- [[NByteTrack9_w.mp4]] (58s)
	- [[NByteTrack9_b.mp4]] (59s)
	- [[NByteTrack9_json.mp4]] (299s)
	- [[NByteTrack9_t.mp4]] (60s)
	- [[NByteTrack9_o.mp4]] (63s)
- on va tenter de régénérer les trajectoires mais en entier (donc plus longue). [[NByteTrack9_t2.mp4]] ()
---
## Problèmes
- [[NByteTrack1.mp4]] : (121s) **15 364** détections jugées différentes. Visuellement, les confiances n'ont pas l'air de descendre en dessous de 0.2. Pour le prochain processing, il serait intéressant de désactiver les couleurs différentes et les labels pour aumenter le contraste entre les détections YOLO et ByteTrack. 
- [[NByteTrack2.mp4]] : (93s) **1 985** détections jugées différentes. La très grande majorité des détection YOLO sont suivies par ByteTrack. 
- [[NByteTrack3.mp4]] : (72s) **1 038** détections jugées différentes. Seuil de confiance trop haut, on perd des danses lors de la détection. Essayons de faire varier l'IoU matching. 
- [[NByteTrack4.mp4]] : (413s) **137 016** détections jugées différentes. Détection très mauvaise, beaucoup de box de YOLO ne sont pas détectées.
- [[NByteTrack5.mp4]] : (306s) **59 891** détections jugées différentes. Reconnaissances médiocres. 
- [[NByteTrack6.mp4]] : (121s) **4 850** détections jugées différentes. Bonne reconnaissances mais le tracking est mauvais sur les abeilles qui dansent.
- [[NByteTrack7.mp4]] : (81s) **1 186** détections jugées différentes. Bon suivie de la waggle dance.
- [[NByteTrack8.mp4]] : (86s) **1 684** détections jugées différentes. Bon suivie de la waggle dance.
- [[NByteTrack9.mp4]] : (77s) **962** détections jugées différentes. Bon suivie de la waggle dance. Moins bon suivi de la danse sur la deuxième phase de descente. 
- [[NByteTrack10.mp4]] : (85s) **1 496** détections jugées différentes. Bon sur la suivie des waggle dance. 
- [[NByteTrack11.mp4]] : (79s) **1 013** détections jugées différentes. Bon sur la suivie des waggle dance. 
